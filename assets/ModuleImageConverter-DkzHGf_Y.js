const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ButtonForConverter-rNzKxs6h.js","assets/index-BzWhoWJG.js","assets/index-DiWuM_TC.css","assets/index-Cmq54cEr.js"])))=>i.map(i=>d[i]);
import{r as a,_ as y,j as e,R}from"./index-BzWhoWJG.js";const f=a.lazy(()=>y(()=>import("./ButtonForConverter-rNzKxs6h.js"),__vite__mapDeps([0,1,2,3]))),U=()=>{const[n,p]=a.useState(null),[o,g]=a.useState(null),[i,b]=a.useState("image/webp"),[d,u]=a.useState(!1),[h,c]=a.useState(null),[I,w]=a.useState(null),[x,N]=a.useState(Date.now()),j=a.useCallback((l,s)=>{u(!0);const t=document.createElement("canvas"),m=t.getContext("2d");t.width=l.width,t.height=l.height,m.drawImage(l,0,0),t.toBlob(r=>{if(u(!1),r){const v=URL.createObjectURL(r);return g(v),()=>{URL.revokeObjectURL(v)}}else c("Failed to convert image!")},s)},[]),F=l=>{const s=l.target.files[0];if(s.size>7*1024*1024){c("File is too large. Select an image smaller than 7 MB!");return}if(!s||!s.type.startsWith("image/")){c("Please upload a valid image file!");return}c(null),w(s);const t=new FileReader;t.onload=m=>{const r=new Image;r.onload=()=>{p(m.target.result),j(r,i)},r.onerror=()=>{c("Failed to load image!")},r.src=m.target.result},t.readAsDataURL(s)},C=l=>{const s=l.target.value;if(b(s),n){const t=new Image;t.onload=()=>j(t,s),t.src=n}};function S(){p(""),g(null),N(Date.now()),c(null)}return a.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]),e.jsxs(R.Fragment,{children:[e.jsx("div",{className:"container text-center",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 text-start m-0 pb-2",children:[e.jsx("label",{className:"fs-6 fw-medium lh-base pt-0 pb-1 ps-1 pe-1",htmlFor:"choseFileToCrop",children:"File type: .webp /.png /.jpg /.avif /.jfif /.bmp /.svg"}),e.jsx("div",{className:"input-group",children:e.jsx("input",{id:"choseFileToConvert",type:"file",accept:"image/*",onChange:F,disabled:d,className:"form-control fs-6 fw-medium lh-base shadow-none border border-secondary pt-1 pb-1"},x)})]}),e.jsx("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 text-start m-0 pt-1 pb-2",children:e.jsxs("div",{className:"form-floating mb-2",children:[e.jsxs("select",{type:"input",id:"SelectFormat",onChange:C,value:i,className:"form-select shadow-none border border-1 border-secondary-subtle","aria-label":"Select font size",children:[e.jsx("option",{value:"image/webp",children:".webp"}),e.jsx("option",{value:"image/png",children:".png"}),e.jsx("option",{value:"image/jpeg",children:".jpeg"})]}),e.jsx("label",{className:"fs-6 fw-medium text-start",htmlFor:"SelectFormat",children:"Select format:"})]})})]})}),e.jsx("div",{className:"container text-center",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"m-0 p-0",children:h&&e.jsx("p",{className:"fs-6 fw-medium text-danger",children:h},x)}),e.jsxs("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 text-center m-0 pe-2",children:[n&&!d&&e.jsx("div",{className:"m-0 p-2",style:{border:"1px dashed #06d001"},children:e.jsx("img",{className:"img-fluid m-0 p-2",src:n,alt:"image",style:{backgroundColor:"rgba(198, 208, 212, 1.0)",objectFit:"contain"}})}),d&&e.jsx("p",{className:"fs-6 fw-medium",children:"Converting image..."})]}),e.jsx("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 text-center m-0 ps-2",children:o&&!d&&e.jsx("div",{className:"m-0 p-2",style:{border:"1px dashed #06d001"},children:e.jsx("img",{className:"img-fluid m-0 p-2",src:o,alt:"image",style:{border:"1px dashed #06d001",backgroundColor:"rgba(198, 208, 212, 1.0)",objectFit:"contain"}})})})]})}),e.jsx("div",{className:"container text-center",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 text-start m-0 pt-3 pb-2",children:e.jsx(f,{buttonType:"download",children:e.jsxs("a",{className:"text-white",href:o,download:`converted.${i.split("/")[1]}`,children:["Download ",i.split("/")[1].toUpperCase()," image"]})})}),e.jsx("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 text-start m-0 pt-3 pb-2",children:e.jsx(f,{buttonType:"reset",onClick:S,children:"Reset converter"})})]})})]})};export{U as default};
